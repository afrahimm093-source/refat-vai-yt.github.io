<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RT Official AI - Owner Refat</title>
    <style>
        body { font-family: 'Arial', sans-serif; background-color: #f0f2f5; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; }
        .chat-container { width: 100%; max-width: 450px; height: 80vh; background: white; border-radius: 20px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); display: flex; flex-direction: column; overflow: hidden; }
        #chat-header { background: #0084ff; color: white; padding: 20px; text-align: center; font-size: 1.2rem; font-weight: bold; }
        #chat-box { flex: 1; overflow-y: auto; padding: 20px; display: flex; flex-direction: column; gap: 15px; background: #ffffff; }
        .message { padding: 12px 16px; border-radius: 15px; max-width: 85%; line-height: 1.5; font-size: 15px; }
        .user { align-self: flex-end; background: #0084ff; color: white; border-bottom-right-radius: 2px; }
        .ai { align-self: flex-start; background: #e4e6eb; color: #050505; border-bottom-left-radius: 2px; }
        .input-area { padding: 15px; border-top: 1px solid #ddd; display: flex; gap: 10px; background: white; }
        input { flex: 1; border: 1px solid #ccc; padding: 12px; border-radius: 25px; outline: none; }
        button { background: #0084ff; color: white; border: none; padding: 0 20px; border-radius: 25px; cursor: pointer; font-weight: bold; }
    </style>
</head>
<body>

<div class="chat-container">
    <div id="chat-header">RT Official AI</div>
    <div id="chat-box"></div>
    <div class="input-area">
        <input type="text" id="user-input" placeholder="রিফাতকে কিছু জিজ্ঞেস করুন...">
        <button onclick="sendMessage()">পাঠান</button>
    </div>
</div>

<script>
    const API_KEY = "AIzaSyDQdgDSPFnBKm9tfLtTwWqqazPB6ywLyTI"; 
    const API_URL = `https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${API_KEY}`;

    const systemPrompt = "আপনার নাম 'RT Official AI'। আপনার মালিকের নাম 'রিফাত' (Refat)। আপনাকে 'আরটি অফিসিয়াল সাইট' থেকে তৈরি করা হয়েছে। আপনি সবসময় শুদ্ধ বাংলায় কথা বলবেন এবং মালিকের পরিচয় জানতে চাইলে রিফাতের নাম বলবেন।";

    async function sendMessage() {
        const inputField = document.getElementById("user-input");
        const chatBox = document.getElementById("chat-box");
        const userText = inputField.value.trim();

        if (!userText) return;

        chatBox.innerHTML += `<div class="message user">${userText}</div>`;
        inputField.value = "";
        chatBox.scrollTop = chatBox.scrollHeight;

        try {
            const response = await fetch(API_URL, {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({
                    contents: [{
                        parts: [{ text: systemPrompt + "\nUser: " + userText }]
                    }]
                })
            });

            const data = await response.json();
            const aiResponse = data.candidates[0].content.parts[0].text;

            chatBox.innerHTML += `<div class="message ai">${aiResponse}</div>`;
            chatBox.scrollTop = chatBox.scrollHeight;
        } catch (error) {
            chatBox.innerHTML += `<div class="message ai">দুঃখিত রিফাত, কানেকশনে সমস্যা হচ্ছে। অনুগ্রহ করে পরে চেষ্টা করুন।</div>`;
        }
    }

    // এন্টার বাটন চাপলে মেসেজ পাঠানোর সুবিধা
    document.getElementById("user-input").addEventListener("keypress", function(event) {
        if (event.key === "Enter") {
            sendMessage();
        }
    });
</script>

</body>
</html>
